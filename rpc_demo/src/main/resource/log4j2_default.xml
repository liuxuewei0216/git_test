<?xml version="1.0" encoding="UTF-8"?>
<!-- IDE开发测试时的默认配置 -->
<Configuration status="WARN"  >

	<Properties>
		<!-- 大的日志级别开关，其他Logger请在下面配置中直接修改 -->
		<property name="sys_log_level">error</property><!-- 业务日志级别 -->
		<property name="biz_log_level">error</property><!-- 业务日志级别 -->
		<property name="biz_onl_log_level">error</property><!-- 业务联机日志级别 -->

		<property name="mon_log_level">info</property><!-- 监控数据收集 -->
		<property name="log4j_log_level">info</property><!-- log4j自身的日志，如重新加载配置、log4j的异常等信息 -->
		<property name="other_log_level">info</property><!-- 没有被控制住的一些日志，漏网之鱼？ -->

		<!-- 是否打印所在的行号(对性能影响比较大) -->
		<property name="enable_log_location">false</property>
		<!-- 单次写入日志文件的块大(byte) -->
		<property name="buffer_size">1048576</property>

		<!-- RPC 链路日志 -->
		<property name="links_pattern">
			<![CDATA[ [%p][%d{yyyy-MM-dd HH:mm:ss,SSS}][%X{CONSUMER_SEQ_NO}][%X{BIZ_SEQ_NO}][%t][%c{1}][%${appId}][%${localIp}][%${localPid}][%m]%n ]]>
		</property>

		<!-- 跟运行期交易无关日志 -->
		<property name="default_pattern">
			<![CDATA[ [%p][%d{yyyy-MM-dd HH:mm:ss,SSS}][%X{CONSUMER_SEQ_NO}][%X{BIZ_SEQ_NO}][%t][%c{1}][${sys:APP_ID}][${sys:IP}][${sys:PID}][%m]%n ]]>
		</property>

	</Properties>

	<Appenders>

		<!-- 平台默认日志 （按天滚动） -->
		<RollingFile name="default" fileName="/defalut/ltts_default.log" filePattern="/defalut/ltts_default.log.%d{yyyy-MM-dd}-%i.gz"
					 immediateFlush="false" bufferSize="${buffer_size}"
		>
			<PatternLayout pattern="${default_pattern}" />
			<Policies>
				<TimeBasedTriggeringPolicy />
				<SizeBasedTriggeringPolicy size="60MB" />
			</Policies>
			<DefaultRolloverStrategy min="1" max="999" />
		</RollingFile>


		<!--  RPC 调用链日志 -->
		<RollingFile name="rpc_links" fileName="links/rpc_links.log" filePattern="log/ltts_links.log/ltts_links.log.%d{yyyy-MM-dd}-%i.gz"
					 immediateFlush="false" bufferSize="${buffer_size}"
		>
			<PatternLayout pattern="${links_pattern}" />
			<Policies>
				<TimeBasedTriggeringPolicy />
				<SizeBasedTriggeringPolicy size="60MB" />
			</Policies>
			<DefaultRolloverStrategy min="1" max="999" />
		</RollingFile>


		<!-- 启动日志 完整过程 （按天滚动） -->
		<RollingFile name="boot" fileName="/boot/ltts_boot.log" filePattern="/boot/ltts_boot.log.%d{yyyy-MM-dd}-%i.gz"
					 immediateFlush="false" bufferSize="${buffer_size}"
		>
			<PatternLayout pattern="${default_pattern}" />
			<Policies>
				<TimeBasedTriggeringPolicy />
				<SizeBasedTriggeringPolicy size="60MB" />
			</Policies>
			<DefaultRolloverStrategy min="1" max="999" />
		</RollingFile>

		<!-- 系统日志日志 完整过程 （按天滚动） -->



	</Appenders>

	<Loggers>
		<AsyncLogger name="sys.rpc.links" level="info" additivity="true" includeLocation="${enable_log_location}">
			<AppenderRef ref="rpc_links" />
		</AsyncLogger>


		<!-- for 屏蔽第三方日志 -->

	</Loggers>

</Configuration>